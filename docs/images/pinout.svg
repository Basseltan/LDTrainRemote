<svg xmlns="http://www.w3.org/2000/svg" viewBox="-260 0 1160 960" font-family="Consolas, monospace" font-size="12">
  <style>
    .board { fill: #3a5a6a; stroke: #2a4a5a; stroke-width: 3; rx: 6; }
    .pin-rect { fill: #c8c832; stroke: #999; stroke-width: 1; rx: 2; }
    .pin-used { fill: #ff6600; stroke: #cc4400; stroke-width: 2; rx: 2; }
    .func-left { fill: #333; font-size: 10px; text-anchor: end; }
    .func-right { fill: #333; font-size: 10px; }
    .title { font-size: 20px; fill: #333; font-weight: bold; text-anchor: middle; }
    .subtitle { font-size: 13px; fill: #666; text-anchor: middle; }
    .board-title { fill: #aaccdd; font-size: 11px; text-anchor: middle; }
    .highlight-box { rx: 4; }
    .highlight-text { fill: #fff; font-size: 11px; font-weight: bold; text-anchor: middle; }
    .highlight-line { stroke-width: 2; fill: none; }
    .legend-text { font-size: 11px; fill: #333; }
    .side-label { fill: #8ab; font-size: 10px; text-anchor: middle; }
    .pin-name { fill: #fff; font-size: 10px; text-anchor: middle; }
    .wire { stroke: #555; stroke-width: 1.5; fill: none; }
    .component { fill: none; stroke: #555; stroke-width: 1.5; }
    .comp-label { fill: #555; font-size: 9px; text-anchor: middle; }
    .comp-label-s { fill: #555; font-size: 8px; text-anchor: middle; }
    .node-dot { fill: #555; stroke: none; }
    .rail-label { font-size: 10px; font-weight: bold; }
  </style>

  <!-- Title -->
  <text x="450" y="30" class="title">LDTrainRemote — Pin Assignment</text>
  <text x="450" y="50" class="subtitle">ESP32 + 18650 Board (WeMos-compatible)</text>

  <!-- Board body -->
  <rect x="280" y="70" width="340" height="750" class="board"/>
  <text x="450" y="92" class="board-title">WiFi &amp; Bluetooth Battery</text>

  <!-- ============== LEFT COLUMN PINS ============== -->

  <!-- Row 0: 3.3V -->
  <rect x="295" y="108" width="50" height="22" class="pin-rect"/>
  <text x="320" y="123" class="pin-name">3.3V</text>
  <text x="280" y="123" class="func-left" fill="#e8a020" font-weight="bold">VIN 3.3V</text>

  <!-- Row 1: EN -->
  <rect x="295" y="144" width="50" height="22" class="pin-rect"/>
  <text x="320" y="159" class="pin-name">EN</text>
  <text x="280" y="159" class="func-left" fill="#7a7">RESET</text>

  <!-- Row 2: GPIO36 / SVP -->
  <rect x="295" y="180" width="50" height="22" class="pin-rect"/>
  <text x="320" y="195" class="pin-name">GPIO36</text>
  <text x="280" y="195" class="func-left">ADC0</text>

  <!-- Row 3: GPIO39 / SVN -->
  <rect x="295" y="216" width="50" height="22" class="pin-rect"/>
  <text x="320" y="231" class="pin-name">GPIO39</text>
  <text x="280" y="231" class="func-left">ADC3</text>

  <!-- Row 4: GPIO34 — PTI_SPEED (USED) -->
  <rect x="295" y="252" width="50" height="22" class="pin-used"/>
  <text x="320" y="267" class="pin-name">GPIO34</text>
  <text x="280" y="267" class="func-left">ADC6</text>
  <line x1="295" y1="263" x2="170" y2="263" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="253" width="108" height="20" fill="#ff6600" class="highlight-box"/>
  <text x="116" y="267" class="highlight-text">PTI_SPEED</text>

  <!-- Row 5: GPIO35 -->
  <rect x="295" y="288" width="50" height="22" class="pin-rect"/>
  <text x="320" y="303" class="pin-name">GPIO35</text>
  <text x="280" y="303" class="func-left">ADC7</text>

  <!-- Row 6: GPIO32 — BAT_VOLTAGE (USED) -->
  <rect x="295" y="324" width="50" height="22" class="pin-used"/>
  <text x="320" y="339" class="pin-name">GPIO32</text>
  <text x="280" y="339" class="func-left">ADC4</text>
  <line x1="295" y1="335" x2="170" y2="335" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="325" width="108" height="20" fill="#e05500" class="highlight-box"/>
  <text x="116" y="339" class="highlight-text">BAT_VOLTAGE</text>

  <!-- Row 7: GPIO33 — LED_LOW_BAT (USED) -->
  <rect x="295" y="360" width="50" height="22" class="pin-used"/>
  <text x="320" y="375" class="pin-name">GPIO33</text>
  <text x="280" y="375" class="func-left">ADC5</text>
  <line x1="295" y1="371" x2="170" y2="371" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="361" width="108" height="20" fill="#cc4400" class="highlight-box"/>
  <text x="116" y="375" class="highlight-text">LED_LOW_BAT</text>

  <!-- Row 8: GPIO25 — BTN_MUSIC (USED) -->
  <rect x="295" y="396" width="50" height="22" class="pin-used"/>
  <text x="320" y="411" class="pin-name">GPIO25</text>
  <text x="280" y="411" class="func-left">ADC18</text>
  <line x1="295" y1="407" x2="170" y2="407" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="397" width="108" height="20" fill="#cc4400" class="highlight-box"/>
  <text x="116" y="411" class="highlight-text">BTN_MUSIC</text>

  <!-- Row 9: GPIO26 — BTN_LICHT (USED) -->
  <rect x="295" y="432" width="50" height="22" class="pin-used"/>
  <text x="320" y="447" class="pin-name">GPIO26</text>
  <text x="280" y="447" class="func-left">ADC19</text>
  <line x1="295" y1="443" x2="170" y2="443" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="433" width="108" height="20" fill="#cc4400" class="highlight-box"/>
  <text x="116" y="447" class="highlight-text">BTN_LICHT</text>
  <text x="62" y="459" font-size="9" fill="#888" text-anchor="start">(deep sleep wakeup)</text>

  <!-- Row 10: GPIO27 — BTN_WASSER (USED) -->
  <rect x="295" y="468" width="50" height="22" class="pin-used"/>
  <text x="320" y="483" class="pin-name">GPIO27</text>
  <text x="280" y="483" class="func-left">TOUCH7</text>
  <line x1="295" y1="479" x2="170" y2="479" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="469" width="108" height="20" fill="#cc4400" class="highlight-box"/>
  <text x="116" y="483" class="highlight-text">BTN_WASSER</text>

  <!-- Row 11: GPIO14 — BTN_STOP (USED) -->
  <rect x="295" y="504" width="50" height="22" class="pin-used"/>
  <text x="320" y="519" class="pin-name">GPIO14</text>
  <text x="280" y="519" class="func-left">TOUCH6</text>
  <line x1="295" y1="515" x2="170" y2="515" stroke="#ff6600" class="highlight-line"/>
  <rect x="62" y="505" width="108" height="20" fill="#cc4400" class="highlight-box"/>
  <text x="116" y="519" class="highlight-text">BTN_STOP</text>

  <!-- Row 12: GPIO12 -->
  <rect x="295" y="540" width="50" height="22" class="pin-rect"/>
  <text x="320" y="555" class="pin-name">GPIO12</text>
  <text x="280" y="555" class="func-left">TOUCH5</text>

  <!-- Row 13: GND -->
  <rect x="295" y="576" width="50" height="22" class="pin-rect"/>
  <text x="320" y="591" class="pin-name">GND</text>

  <!-- Row 14: GPIO13 -->
  <rect x="295" y="612" width="50" height="22" class="pin-rect"/>
  <text x="320" y="627" class="pin-name">GPIO13</text>
  <text x="280" y="627" class="func-left">TOUCH4</text>

  <!-- Row 15: GPIO9 / SD2 -->
  <rect x="295" y="648" width="50" height="22" class="pin-rect"/>
  <text x="320" y="663" class="pin-name">GPIO9</text>
  <text x="280" y="663" class="func-left" fill="#a88">FLASH D2</text>

  <!-- Row 16: GPIO10 / SD3 -->
  <rect x="295" y="684" width="50" height="22" class="pin-rect"/>
  <text x="320" y="699" class="pin-name">GPIO10</text>
  <text x="280" y="699" class="func-left" fill="#a88">FLASH D3</text>

  <!-- Row 17: GPIO11 / CMD -->
  <rect x="295" y="720" width="50" height="22" class="pin-rect"/>
  <text x="320" y="735" class="pin-name">GPIO11</text>
  <text x="280" y="735" class="func-left" fill="#a88">FLASH CMD</text>

  <!-- Row 18: 5V -->
  <rect x="295" y="756" width="50" height="22" class="pin-rect"/>
  <text x="320" y="771" class="pin-name">5V</text>
  <text x="280" y="771" class="func-left" fill="#e44" font-weight="bold">VIN 5V</text>

  <!-- Row 19: NC -->
  <rect x="295" y="792" width="50" height="22" class="pin-rect" fill="#666"/>
  <text x="320" y="807" class="pin-name">NC</text>

  <!-- ============== RIGHT COLUMN PINS ============== -->

  <!-- Row 0: GND -->
  <rect x="555" y="108" width="50" height="22" class="pin-rect"/>
  <text x="580" y="123" class="pin-name">GND</text>
  <text x="620" y="123" class="func-right" fill="#666" font-weight="bold">GND</text>

  <!-- Row 1: GPIO23 -->
  <rect x="555" y="144" width="50" height="22" class="pin-rect"/>
  <text x="580" y="159" class="pin-name">GPIO23</text>
  <text x="620" y="159" class="func-right">VSPI MOSI</text>

  <!-- Row 2: GPIO22 -->
  <rect x="555" y="180" width="50" height="22" class="pin-rect"/>
  <text x="580" y="195" class="pin-name">GPIO22</text>

  <!-- Row 3: GPIO1 / TX -->
  <rect x="555" y="216" width="50" height="22" class="pin-rect"/>
  <text x="580" y="231" class="pin-name">GPIO1</text>
  <text x="620" y="231" class="func-right">TX0</text>

  <!-- Row 4: GPIO3 / RX -->
  <rect x="555" y="252" width="50" height="22" class="pin-rect"/>
  <text x="580" y="267" class="pin-name">GPIO3</text>
  <text x="620" y="267" class="func-right">RX0</text>

  <!-- Row 5: GPIO21 -->
  <rect x="555" y="288" width="50" height="22" class="pin-rect"/>
  <text x="580" y="303" class="pin-name">GPIO21</text>

  <!-- Row 6: GND -->
  <rect x="555" y="324" width="50" height="22" class="pin-rect"/>
  <text x="580" y="339" class="pin-name">GND</text>
  <text x="620" y="339" class="func-right" fill="#666" font-weight="bold">GND</text>

  <!-- Row 7: GPIO19 -->
  <rect x="555" y="360" width="50" height="22" class="pin-rect"/>
  <text x="580" y="375" class="pin-name">GPIO19</text>
  <text x="620" y="375" class="func-right">VSPI MISO</text>

  <!-- Row 8: GPIO18 -->
  <rect x="555" y="396" width="50" height="22" class="pin-rect"/>
  <text x="580" y="411" class="pin-name">GPIO18</text>
  <text x="620" y="411" class="func-right">VSPI SCK</text>

  <!-- Row 9: GPIO5 -->
  <rect x="555" y="432" width="50" height="22" class="pin-rect"/>
  <text x="580" y="447" class="pin-name">GPIO5</text>
  <text x="620" y="447" class="func-right">VSPI SS</text>

  <!-- Row 10: GPIO17 -->
  <rect x="555" y="468" width="50" height="22" class="pin-rect"/>
  <text x="580" y="483" class="pin-name">GPIO17</text>

  <!-- Row 11: GPIO16 -->
  <rect x="555" y="504" width="50" height="22" class="pin-rect"/>
  <text x="580" y="519" class="pin-name">GPIO16</text>

  <!-- Row 12: GPIO4 -->
  <rect x="555" y="540" width="50" height="22" class="pin-rect"/>
  <text x="580" y="555" class="pin-name">GPIO4</text>
  <text x="620" y="555" class="func-right">TOUCH0</text>

  <!-- Row 13: GPIO0 -->
  <rect x="555" y="576" width="50" height="22" class="pin-rect"/>
  <text x="580" y="591" class="pin-name">GPIO0</text>
  <text x="620" y="591" class="func-right">TOUCH1</text>

  <!-- Row 14: GPIO2 -->
  <rect x="555" y="612" width="50" height="22" class="pin-rect"/>
  <text x="580" y="627" class="pin-name">GPIO2</text>
  <text x="620" y="627" class="func-right">TOUCH2</text>

  <!-- Row 15: GPIO15 -->
  <rect x="555" y="648" width="50" height="22" class="pin-rect"/>
  <text x="580" y="663" class="pin-name">GPIO15</text>
  <text x="620" y="663" class="func-right">TOUCH3</text>

  <!-- Row 16: GPIO8 / SD1 -->
  <rect x="555" y="684" width="50" height="22" class="pin-rect"/>
  <text x="580" y="699" class="pin-name">GPIO8</text>
  <text x="620" y="699" class="func-right" fill="#a88">FLASH D1</text>

  <!-- Row 17: GPIO7 / SD0 -->
  <rect x="555" y="720" width="50" height="22" class="pin-rect"/>
  <text x="580" y="735" class="pin-name">GPIO7</text>
  <text x="620" y="735" class="func-right" fill="#a88">FLASH D0</text>

  <!-- Row 18: GPIO6 / CLK -->
  <rect x="555" y="756" width="50" height="22" class="pin-rect"/>
  <text x="580" y="771" class="pin-name">GPIO6</text>
  <text x="620" y="771" class="func-right" fill="#a88">FLASH SCK</text>

  <!-- Row 19: NC -->
  <rect x="555" y="792" width="50" height="22" class="pin-rect" fill="#666"/>
  <text x="580" y="807" class="pin-name">NC</text>

  <!-- ============== CENTER LABELS ============== -->
  <text x="450" y="125" class="side-label">P3.3V          GND</text>
  <text x="450" y="161" class="side-label">EN              P23</text>
  <text x="450" y="197" class="side-label">SVP             P22</text>
  <text x="450" y="233" class="side-label">SVN              TX</text>
  <text x="450" y="269" class="side-label">P34              RX</text>
  <text x="450" y="305" class="side-label">P35             P21</text>
  <text x="450" y="341" class="side-label">P32            GND</text>
  <text x="450" y="377" class="side-label">P33             P19</text>
  <text x="450" y="413" class="side-label">P25             P18</text>
  <text x="450" y="449" class="side-label">P26              P5</text>
  <text x="450" y="485" class="side-label">P27             P17</text>
  <text x="450" y="521" class="side-label">P14             P16</text>
  <text x="450" y="557" class="side-label">P12              P4</text>
  <text x="450" y="593" class="side-label">GND              P0</text>
  <text x="450" y="629" class="side-label">P13              P2</text>
  <text x="450" y="665" class="side-label">SD2             P15</text>
  <text x="450" y="701" class="side-label">SD3             SD1</text>
  <text x="450" y="737" class="side-label">CMD             SD0</text>
  <text x="450" y="773" class="side-label">5V              CLK</text>
  <text x="450" y="809" class="side-label">NC               NC</text>

  <!-- ================================================================ -->
  <!-- CIRCUIT SCHEMATICS (left of board)                               -->
  <!-- ================================================================ -->

  <!-- ====== POTENTIOMETER (GPIO34, y=263) ====== -->
  <!--
       3.3V
        |
       [POT] ──── wiper ──── GPIO34
        |
       GND
  -->
  <!-- Vertical wire top: 3.3V to pot -->
  <line x1="-120" y1="228" x2="-120" y2="243" class="wire"/>
  <!-- 3.3V rail label -->
  <text x="-120" y="222" class="rail-label" fill="#e8a020" text-anchor="middle">3.3V</text>
  <!-- Pot body (resistor strip) -->
  <rect x="-134" y="243" width="28" height="40" class="component" rx="2"/>
  <text x="-120" y="267" class="comp-label">POT</text>
  <!-- Vertical wire bottom: pot to GND -->
  <line x1="-120" y1="283" x2="-120" y2="298" class="wire"/>
  <!-- GND symbol (horizontal bar + smaller bars) -->
  <line x1="-130" y1="298" x2="-110" y2="298" stroke="#555" stroke-width="2"/>
  <line x1="-126" y1="302" x2="-114" y2="302" stroke="#555" stroke-width="1.5"/>
  <line x1="-123" y1="305" x2="-117" y2="305" stroke="#555" stroke-width="1"/>
  <!-- Wiper arrow -->
  <line x1="-106" y1="263" x2="-95" y2="263" class="wire"/>
  <polygon points="-108,258 -100,263 -108,268" fill="#555"/>
  <!-- Wiper wire to highlight box -->
  <line x1="-95" y1="263" x2="62" y2="263" class="wire" stroke-dasharray="4,3"/>

  <!-- ====== VOLTAGE DIVIDER (GPIO32, y=335) ====== -->
  <!--
       BAT+
        |
      [220k]  R1
        |
        +──────── GPIO32
        |
      [220k]  R2
        |
       GND
  -->
  <!-- BAT+ label -->
  <text x="-40" y="290" class="rail-label" fill="#c44" text-anchor="middle">BAT+</text>
  <!-- Wire from BAT+ to R1 -->
  <line x1="-40" y1="294" x2="-40" y2="303" class="wire"/>
  <!-- R1 body -->
  <rect x="-52" y="303" width="24" height="24" class="component" rx="2"/>
  <text x="-40" y="318" class="comp-label-s">220k</text>
  <!-- Wire from R1 to junction -->
  <line x1="-40" y1="327" x2="-40" y2="335" class="wire"/>
  <!-- Junction dot -->
  <circle cx="-40" cy="335" r="3" class="node-dot"/>
  <!-- Wire from junction to R2 -->
  <line x1="-40" y1="335" x2="-40" y2="343" class="wire"/>
  <!-- R2 body -->
  <rect x="-52" y="343" width="24" height="24" class="component" rx="2"/>
  <text x="-40" y="358" class="comp-label-s">220k</text>
  <!-- Wire from R2 to GND -->
  <line x1="-40" y1="367" x2="-40" y2="380" class="wire"/>
  <!-- GND symbol -->
  <line x1="-50" y1="380" x2="-30" y2="380" stroke="#555" stroke-width="2"/>
  <line x1="-46" y1="384" x2="-34" y2="384" stroke="#555" stroke-width="1.5"/>
  <line x1="-43" y1="387" x2="-37" y2="387" stroke="#555" stroke-width="1"/>
  <!-- Junction wire to highlight box -->
  <line x1="-40" y1="335" x2="62" y2="335" class="wire" stroke-dasharray="4,3"/>

  <!-- ====== LED + 1k RESISTOR (GPIO33, y=371) ====== -->
  <!--
       GPIO33 ──┐
                 └──[1k R]──|>──── GND
       Routed below voltage divider to avoid overlap
  -->
  <!-- Dashed wire from highlight box going left, then angled down -->
  <line x1="62" y1="371" x2="15" y2="371" class="wire" stroke-dasharray="4,3"/>
  <line x1="15" y1="371" x2="15" y2="420" class="wire" stroke-dasharray="4,3"/>
  <line x1="15" y1="420" x2="0" y2="420" class="wire"/>
  <!-- 1k Resistor body -->
  <rect x="-32" y="412" width="32" height="16" class="component" rx="2"/>
  <text x="-16" y="423" class="comp-label-s">1k</text>
  <!-- Wire from resistor to LED anode -->
  <line x1="-32" y1="420" x2="-40" y2="420" class="wire"/>
  <!-- LED triangle (anode=right, cathode=left, current flows left) -->
  <polygon points="-40,411 -58,420 -40,429" fill="none" stroke="#555" stroke-width="1.5"/>
  <!-- LED cathode bar -->
  <line x1="-58" y1="411" x2="-58" y2="429" stroke="#555" stroke-width="2"/>
  <!-- LED light rays (pointing up-left) -->
  <line x1="-52" y1="410" x2="-48" y2="403" stroke="#555" stroke-width="0.8"/>
  <polygon points="-50,404 -48,403 -49,407" fill="#555"/>
  <line x1="-46" y1="409" x2="-42" y2="402" stroke="#555" stroke-width="0.8"/>
  <polygon points="-44,403 -42,402 -43,406" fill="#555"/>
  <!-- Wire from cathode to GND -->
  <line x1="-58" y1="420" x2="-70" y2="420" class="wire"/>
  <line x1="-70" y1="420" x2="-70" y2="435" class="wire"/>
  <!-- GND symbol -->
  <line x1="-80" y1="435" x2="-60" y2="435" stroke="#555" stroke-width="2"/>
  <line x1="-76" y1="439" x2="-64" y2="439" stroke="#555" stroke-width="1.5"/>
  <line x1="-73" y1="442" x2="-67" y2="442" stroke="#555" stroke-width="1"/>

  <!-- ============== LEGEND ============== -->
  <rect x="-120" y="880" width="900" height="50" fill="#f8f8f8" stroke="#ddd" rx="6"/>

  <rect x="-100" y="898" width="14" height="14" fill="#ff6600" stroke="#cc4400" stroke-width="1.5" rx="2"/>
  <text x="-78" y="910" class="legend-text">= Used pin (7 of 40)</text>

  <rect x="120" y="898" width="14" height="14" fill="#c8c832" stroke="#999" stroke-width="1" rx="2"/>
  <text x="142" y="910" class="legend-text">= Unused pin</text>

  <line x1="290" y1="905" x2="330" y2="905" stroke="#555" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="338" y="910" class="legend-text">= External circuit connection</text>

  <text x="560" y="910" class="legend-text" font-size="10" fill="#888">All used GPIOs are on the left side</text>
</svg>